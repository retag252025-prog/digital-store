<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ù…Ù†ØªØ¬</title>
<link rel="stylesheet" href="style.css">

<style>
.product-box {
    max-width: 1000px;
    margin: 30px auto;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    display: flex;
    gap: 20px;
}

.product-img {
    max-width: 350px;
    border-radius: 8px;
}

.rating span {
    color: #ffa41c;
    font-size: 20px;
}
</style>
</head>

<body>

<!-- Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
<header class="header">
    <div class="logo" onclick="location.href='/'" style="cursor:pointer;">Digital Store</div>

    <div class="search-box">
        <input id="searchInput" type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
        <button onclick="searchProduct()">Ø¨Ø­Ø«</button>
    </div>

    <div class="account">
        <a href="/cart.html">ğŸ›’ Ø§Ù„Ø³Ù„Ø© <span id="cart-count">0</span></a>
    </div>
</header>

<div class="product-box">
    <img id="p-img" class="product-img">

    <div>
        <h2 id="p-name"></h2>

        <div class="rating">
            â­â­â­â­â­
        </div>

        <h3 id="p-price"></h3>

        <p id="p-desc"></p>

        <button class="buy-btn-big" onclick="addToCart()">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        <br><br>
        <button class="buy-btn-big" onclick="buyNow()">Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø¢Ù†</button>
    </div>
</div>

<script>
let product = JSON.parse(localStorage.getItem("selectedProduct") || "{}");

document.getElementById("p-img").src = product.image;
document.getElementById("p-name").innerText = product.name;
document.getElementById("p-price").innerText = product.price + " Ø¬Ù†ÙŠÙ‡";
document.getElementById("p-desc").innerText = product.description;

// Add to cart
function addToCart() {
    let cart = JSON.parse(localStorage.getItem("cart") || "[]");

    cart.push(product);
    localStorage.setItem("cart", JSON.stringify(cart));

    updateCartCount();
    alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©!");
}

function buyNow() {
    addToCart();
    window.location.href = "/cart.html";
}

// search
function searchProduct() {
    let q = document.getElementById("searchInput").value;
    localStorage.setItem("search", q);
    window.location.href = "/search.html";
}

function updateCartCount() {
    let cart = JSON.parse(localStorage.getItem("cart") || "[]");
    document.getElementById("cart-count").innerText = cart.length;
}

updateCartCount();
</script>

</body>
</html>
